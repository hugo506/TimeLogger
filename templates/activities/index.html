{% extends "activities/base.html" %}

{% block content %}
<div class="row">
<div class="col-lg-4">

    <h3>New Activity</h3>
    <hr />
    <form action="{% url 'index' %}" method="post"> {% csrf_token %}
        <fieldset>
            {% if form.errors %}
            <div class="bs-callout bs-callout-danger">
                <h4>Oops! There were errors in your form submission</h4>
                {% for field, errors in form.errors.items %}
                    {% for error in errors %}
                        <li>{{ field }} - {{ error }} </li>
                    {% endfor %}
                {% endfor %}
            </div>
            {% endif %}

            <div class="form-group">
                <label for="id_activity_date">Activity Date</label>
                <input class="form-control" id="id_activity_date" name="activity_date" type="text" />
            </div>

            <div class="form-group">
                <label for="id_activity_type">Activity Type</label>
                {{ form.activity_type }}
            </div>

            <div class="form-group">
                <label for="id_description">Description</label>
                <textarea cols="40" id="id_description" name="description" rows="3" class="form-control"></textarea>
            </div>

            <div class="form-group">
                <label for="id_ticket_number">Ticket Number</label>
                <input class="form-control" id="id_ticket_number" name="ticket_number" type="text" value="0" />
            </div>

            <div class="form-group">
                <label for="id_hours_worked">Hours Worked</label>
                <input id="id_hours_worked" class="form-control" name="hours_worked" type="text" value="0" />
            </div>

            <input type="submit" value="Add Activity!" class="btn btn-default btn-lg btn-block"/>
        </fieldset>

    </form>
</div>
<div class="col-lg-8">
    <h3>Activities</h3>
    <hr />
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Activity Type</th>
                <th>Ticket Number</th>
                <th>Hours Worked</th>
                <th>Description</th>
                <th>Date</th>
            </tr>
        </thead>
        <tbody>
            {% for item in results %}
            <tr>
                <td>{{ item.activity_type.category_name }}</td>
                <td>{{ item.ticket_number }} </td>
                <td>{{ item.hours_worked }} </td>
                <td>{{ item.description }} </td>
                <td>{{ item.activity_date }} </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
</div>
{% endblock %}
